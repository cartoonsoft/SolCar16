@model Cartorio11RI.ViewModels.AtoViewModel

@{
	ViewBag.Title = "Atos";
	ViewBag.SubTitle = "Novo ato";
}

@section styles_especific {
	<style>
		#tbl-pessoas-selecionadas {
			/*border: 1px solid #808080; */
			table-layout: auto;
			width: 100%;
		}

		#tbl-selecao-pessoas {
			/*border: 1px solid #808080; */
			table-layout: auto;
			width: 100%;
		}

		/*-- tbl-pessoas-selecionadas ----------------------------------------*/
		#tbl-pessoas-selecionadas tr td:nth-child(1) {
			width: 3%;
		}

		#tbl-pessoas-selecionadas tr td:nth-child(2) {
			width: 15%;
		}

		#tbl-pessoas-selecionadas tr td:nth-child(3) {
			width: 15%;
		}

		#tbl-pessoas-selecionadas tr td:nth-child(4) {
			width: 3%;
		}

		#tbl-pessoas-selecionadas tr td:nth-child(5) {
			width: 3%;
		}

		#tbl-pessoas-selecionadas tr td:nth-child(6) {
			width: 10%;
		}

		#tbl-pessoas-selecionadas tr td:nth-child(7) {
			width: 10%;
		}

		#tbl-pessoas-selecionadas tr td:nth-child(8) {
			width: 3%;
		}

		#tbl-pessoas-selecionadas tr td:nth-child(9) {
			width: 4%;
		}

		#tbl-pessoas-selecionadas tr td:nth-child(10) {
			width: 5%;
		}

		/*-- tbl-selecao-pessoas ---------------------------------------------*/
		#tbl-selecao-pessoas tr td:nth-child(1) {
			width: 4%;
		}

		#tbl-selecao-pessoas tr td:nth-child(2) {
			width: 6%;
		}

		#tbl-selecao-pessoas tr td:nth-child(3) {
			width: 10%;
		}

		#tbl-selecao-pessoas tr td:nth-child(4) {
			width: 35%;
		}

		#tbl-selecao-pessoas tr td:nth-child(5) {
			width: 35%;
		}

		.checkbox-selecao-pessoas {
			visibility: visible;
		}

		.div-container-scroll {
			width: 580px;
			height: 480px;
			overflow-y: auto;
			overflow-x: auto;
		}

		input[type=checkbox] {
			vertical-align: middle;
			position: relative;
			cursor: pointer;
		}

		input[type=checkbox]:before {
			content: "";
			display: block;
			position: absolute;
			width: 16px;
			height: 16px;
			top: 0;
			left: 0;
			border: 1px solid #555555;
			border-radius: 3px;
			background-color: lightsteelblue;
		}

		input[type=checkbox]:checked:after {
			content: "";
			display: block;
			width: 5px;
			height: 10px;
			border: solid black;
			border-width: 0 2px 2px 0;
			-webkit-transform: rotate(45deg);
			-ms-transform: rotate(45deg);
			transform: rotate(45deg);
			position: absolute;
			top: 2px;
			left: 6px;
		}

		.label-checkbox {
			position: relative;
			display: inline-block;
			vertical-align: middle;
			bottom: -2px;
		}

	</style>
}

<div id="content">
	<!-- widget grid -->
	<section id="widget-grid" class="">
		<div class="row">
			<article class="col-sm-12 col-md-12 col-lg-12">
				<!-- Widget ID (each widget will need unique ID)-->
				<div class="jarviswidget" id="wid-id-0" data-widget-colorbutton="false" data-widget-togglebutton="false" data-widget-editbutton="false" data-widget-deletebutton="false" data-widget-collapsed="false">
					<!-- widget div-->
					<div>
						<!-- widget edit box -->
						<div class="jarviswidget-editbox">
							<!-- This area used as dropdown edit box -->
						</div>
						<!-- end widget edit box -->
						<!-- widget content -->
						<div class="widget-body">
							@Html.Partial("_divWizardAto", Model)
						</div>
						<!-- end widget content -->
					</div>
				</div>
			</article>
		</div>
	</section>
</div>

<!-- dialogo div-dlg-pessoas ----------------------------------------------- -->
<div class="modal fade" id="div-dlg-pessoas" role="dialog" aria-hidden="true">
	<div class="modal-dialog  modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
					×
				</button>
				<h4 class="modal-title"><label id="lbl-dlg-pessoa-header"></label></h4>
			</div>
			<div class="modal-body">
				<div class="row">
					<table class="table table-striped" id="tbl-selecao-pessoas">
						<thead>
							<tr>
								<th></th>
								<th>Tipo</th>
								<th>DOC</th>
								<th>Nome</th>
								<th>Endereço</th>
							</tr>
						</thead>
						<tbody>
						</tbody>
					</table>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" id="btn-dlg-pessoas-cancela" class="btn btn-danger" data-dismiss="modal">
					<i class="glyphicon glyphicon-remove"></i>&nbsp;Cancela
				</button>
				<button type="button" id="btn-dlg-pessoas-ok" class="btn btn-success">
					<i class="glyphicon glyphicon-ok fa-"></i>&nbsp;Ok
				</button>
			</div>
		</div><!-- /.modal-content -->
	</div><!-- /.modal-dialog -->
</div>

@section pagespecific {

	<script src="~/scripts/plugin/bootstrap-wizard/jquery.bootstrap.wizard.min.js"></script>
	<script src="~/scripts/plugin/fuelux/wizard/wizard.min.js"></script>
	<script src="~/Scripts/plugin/ckeditor/ckeditor.js"></script>
	<script src="~/Scripts/cartoonsoft/cartoonsoft_libs.js"></script>
	<script src="~/Scripts/cartoonsoft/Atos/novo_ato.js"></script>

	<script>
	$(document).ready(function () {

		/* urls chamadas ajax ------------------------------------------------*/
		var urlGetDadosImovel = '@Url.Action("GetListImoveisPrenotacao", "Atos")';
		var urlGetListPessoasPrenotacao= '@Url.Action("GetListPessoasPrenotacao", "Atos")';
		var urlGetLisModelosDocx = '@Url.Action("GetLisModelosDocx", "Atos")';
		var urlProcReservarMatImovel = '@Url.Action("ProcReservarMatImovel", "Atos")';
		var urlGetTextoAto = '@Url.Action("GetTextoAto", "Atos")';
		var urlGetTextoWordDocModelo = '@Url.Action("GetTextoWordDocModelo", "Atos")';
		var urlInsertOrUpdateAtoAjax = '@Url.Action("InsertOrUpdateAtoAjax", "Atos")';
		var urlGetDadosPorPrenotacao = '@Url.Action("GetDadosPorPrenotacao", "Atos")';

		/* obter ip local ----------------------------------------------------*/
		var ipLocal = getUserIP(function (ip) {
			var t = navigator.product;
			$("#IpLocal").val(ip);
		});

		$('.tree > ul').attr('role', 'tree').find('ul').attr('role', 'group');
		$('.tree').find('li:has(ul)').addClass('parent_li').attr('role', 'treeitem').find(' > span').on('click', function (e) {
			var children = $(this).parent('li.parent_li').find(' > ul > li');
			if (children.is(':visible')) {
				children.hide('slow');
				$(this).find(' > i').removeClass().addClass('fa fa-lg fa-plus-circle');
			} else {
				children.show('slow');
				$(this).find(' > i').removeClass().addClass('fa fa-lg fa-minus-circle');
			}
			e.stopPropagation();
		});

		var id = $("#Id").val();
        DesabilitarProximo();

        var form_para_validar = $("#frm-wizard-novo-ato");

        $.validator.addMethod("valueNotEquals", function (value, element, arg) {
            return arg !== value;
        }, "Value must not equal arg.");


		/*-- validate --------------------------------------------------------*/
        $("#frm-wizard-novo-ato").validate({
			// Rules for form validation
            rules: {
				IdPrenotacao: {
					required: true
				},
				IdCtaAcessoSist: {
					required: true
                },
				IdTipoAto: {
					required: true
                },
				NumMatricula: {
					required: true
				},
				IdModeloDoc: {
					required: true
				},
				IdLivro: {
                    required: true
                },
				NumFicha: {
                    required: true,
                    min: 1,
                    number: true
                },
				NumSequenciaAto: {
                    required: true,
                    min: 1,
                    number: true
                },
                FolhaFicha: {
                    required: true,
                    valueNotEquals: "0"
                },
                DistanciaTopo: {
                    required: true,
                    min: 1,
                    number: true
                },
				DescricaoAto: {
					required: true
				}
			},
			// Messages for form validation
			messages: {
				IdPrenotacao: {
					required: "Entre com um número de prenotação"
				},
				IdTipoAto: {
					required: "Selecione um Tipo"
				},
				NumMatricula: {
					required: "Núm. de matrícula inválida"
                },
				IdModeloDoc: {
					required: "Selecione um modelo de documento"
				},
				IdLivro: {
                    required: "Selecione um livro"
				},
				NumFicha: {
                    required: "Preencha o número da ficha",
                    min: "Número não pode ser zero",
                    number: "Deve ser valor numérico"
                },
				NumSequenciaAto: {
                    required: "Preencha o número de seqência",
                    min: "Número não pode ser zero",
                    number: "Deve ser valor numérico"
                },
                FolhaFicha: {
                    required: "Preencha se é frente ou verso",
                    valueNotEquals: "Selecione frente ou verso"
                },
                DistanciaTopo: {
                    required: "Preencha o ajuste superior",
                    min: "Ajuste não pode ser zero",
                    number: "Deve ser um valor numérico"
                },
				DescricaoAto: {
					required: "Digite um descrição para o ato"
				}
            },

			// Do not change code below
			highlight: function (element) {
				$(element).closest('.form-group').removeClass('has-success').addClass('has-error');
			},
			unhighlight: function (element) {
				$(element).closest('.form-group').removeClass('has-error').addClass('has-success');
			},
			errorElement: 'span',
			errorClass: 'help-block',
			errorPlacement: function (error, element) {
				if (element.parent('.input-group').length) {
					error.insertAfter(element.parent());
				} else {
					error.insertAfter(element);
				}
			}
		});

		/*-- somente-numero-sem-decimal ------------------------------------- */
		$(".somente-numero-sem-decimal").on("keypress keyup blur", function (event) {
			$(this).val($(this).val().replace(/[^\d].+/, ""));
			if ((event.which < 48 || event.which > 57)) {
				event.preventDefault();
			}
		});

		/*-- pesqusar por prenotacao ---------------------------------------- */
		$("#IdPrenotacao").keydown(function (e) {
			if (e.keyCode == 13) {
				$("#btn-pesq-prenotacao").click();
			}
		});

		/*-- btn-pesq-prenotacao -------------------------------------------- */
		$("#btn-pesq-prenotacao").click(function (e) {
			e.preventDefault();

			var numPrenotacao = $("#IdPrenotacao").val().trim();
			var sel = $("#ddListImoveisPrenotacao");

			if (isNaN(numPrenotacao) || (numPrenotacao == "")) {
				$.smallBox({
					title: "Valor inválido!",
					content: "Número de prenotação está inválido.",
					color: cor_smallBox_aviso,
					icon: "fa fa-exclamation bounce animated",
					timeout: 4000
				});
			} else {

				PesquisarPrenotacao(numPrenotacao, sel, urlGetDadosPorPrenotacao);
			}
		});

		/*-- btn-reserva-mat ------------------------------------------------ */
		$("#btn-reserva-mat").click(function (e) {
			e.preventDefault();

			var obj = $("#ddListImoveisPrenotacao");
			var numPrenotacao = $("#IdPrenotacao").val().trim();
			var numMat = $("option:selected", obj).val();

			ProcReservarMatImovel(1, numPrenotacao, numMat, urlProcReservarMatImovel);
		});

		/*-- btn-libera-mat ------------------------------------------------ */
		$("#btn-libera-mat").click(function (e) {
			e.preventDefault();

			var obj = $("#ddListImoveisPrenotacao");
			var numPrenotacao = $("#IdPrenotacao").val().trim();
			var numMat = $("option:selected", obj).val();

			ProcReservarMatImovel(2, numPrenotacao, numMat, urlProcReservarMatImovel);
		});

		/*-- pesquisar pessoas ---------------------------------------------- */
		$("#btn-pesq-pessoas").click(function (e) {
			e.preventDefault();

			var numPrenotacao = $("#IdPrenotacao").val().trim();

			if (isNaN(numPrenotacao) || (numPrenotacao == "")) {
				$.smallBox({
					title: "Valor inválido!",
					content: "Número de prenotação está inválido.",
					color: cor_smallBox_aviso,
					icon: "fa fa-exclamation bounce animated",
					timeout: 4000
				});
			} else {
				var dadosPrenotacao = {
					IdPrenotacao: numPrenotacao
				};

				GetListPessoasPrenotacao(dadosPrenotacao, urlGetListPessoasPrenotacao);
			}
		});

		/*-- btn-dlg-pessoas-ok   --------------------------------------------*/
		$("#btn-dlg-pessoas-ok").click(function (e) {
			e.preventDefault();
			PodeAvancar2 = PovoarSelecionados($('#IdPrenotacao').val());
		});

		var ato_wizard = $('#divWizardEdicaoAto').wizard();

		/*-- ato_wizard on change ------------------------------------------- */
		$(ato_wizard).on('change', function(e, data) {

			var numPrenotacao = $("#IdPrenotacao").val().trim();

			/*-- etapa 1 -----------------------------------------------------*/
			if (data.step === 1 && data.direction === 'next') {

				if (!PodeAvancar1) {
					$.smallBox({
						title: "Selecione uma matrícula!",
						content: "Reserve uma matrícula para poder avançar.",
						color: cor_smallBox_aviso,
						icon: "fa fa-exclamation bounce animated",
						timeout: 4000
					});
					return false;
				}
			}

			/*-- etapa 2 -----------------------------------------------------*/
			if (data.step === 2 && data.direction === 'next') {

				if (!PodeAvancar2) {
					$.smallBox({
						title: "Selecione as pessoas!",
						content: "Selecione pelo menos um outorgante/outorgado para continuar.",
						color: cor_smallBox_aviso,
						icon: "fa fa-exclamation bounce animated",
						timeout: 4000
					 });
					return false;
				}
			}

			/*-- etapa 3 -----------------------------------------------------*/
			if (data.step === 3 && data.direction === 'next') {

				if (!PodeAvancar3) {
					$.smallBox({
						title: "Selecione um modelo!",
						content: "Selecione um modelo de documento para continuar..",
						color: cor_smallBox_aviso,
						icon: "fa fa-exclamation bounce animated",
						timeout: 4000
					});
					return false;
				} else {
					/*-- -----------------------------------------------------*/
					if (isNaN(numPrenotacao) || (numPrenotacao == "")) {
						$.smallBox({
							title: "Número de prenotação inválido!",
							content: "Preencha o número de prenotação...",
							color: cor_smallBox_aviso,
							icon: "fa fa-exclamation bounce animated",
							timeout: 4000
						});
						return false;
					}
				}
			}

			return true;
		});

		/*-- ato_wizard on finished ------------------------------------------*/
		ato_wizard.on('finished', function (e, data) {
			//$("#fuelux-wizard").submit();
			//console.log("submitted!");
			$.smallBox({
				title: "Finalizado!",
				content: "<i class='fa fa-clock-o'></i> <i>1 Dizer algo</i>",
				color: "#5F895F",
				icon: "fa fa-thumbs-up bounce animated",
				timeout: 4000
			});
		});

		/*-- ckeditor ckEditorPreviewModelo --------------------------------- */
		CKEDITOR.replace('ckEditorPreviewModelo', {
			width: '100%',
			height: '200px',
			language: 'pt-br',
			uiColor: '#1686E4',
			contentsCss: 'body { font-family: "Times New Roman, Times, serif";, font-size: 14;}',
			font_defaultLabel: 'Times New Roman',
			fontSize_defaultLabel: '14',
			//startupFocus: true,
			toolbarGroups: [
				{ name: 'document', groups: [ 'mode', 'document', 'doctools' ] },
				{ name: 'clipboard', groups: [ 'clipboard', 'undo' ] },
				{ name: 'editing', groups: [ 'find', 'selection', 'spellchecker', 'editing' ] },
				{ name: 'forms', groups: [ 'forms' ] },
				{ name: 'basicstyles', groups: [ 'basicstyles', 'cleanup' ] },
				{ name: 'paragraph', groups: [ 'list', 'indent', 'blocks', 'align', 'bidi', 'paragraph' ] },
				{ name: 'links', groups: [ 'links' ] },
				{ name: 'insert', groups: [ 'insert' ] },
				{ name: 'styles', groups: [ 'styles' ] },
				{ name: 'colors', groups: [ 'colors' ] },
				{ name: 'tools', groups: [ 'tools' ] },
				{ name: 'others', groups: [ 'others' ] },
				{ name: 'about', groups: [ 'about' ] }
			],
			removeButtons: 'Source,Save,Templates,Cut,Undo,Find,SelectAll,Scayt,Form,NewPage,Copy,Paste,PasteText,PasteFromWord,Redo,Replace,Radio,TextField,Select,ImageButton,HiddenField,Subscript,Superscript,RemoveFormat,NumberedList,BulletedList,Outdent,Indent,Blockquote,CreateDiv,JustifyLeft,JustifyCenter,JustifyRight,JustifyBlock,BidiLtr,Link,Anchor,Language,Image,Flash,Unlink,Table,HorizontalRule,Smiley,SpecialChar,PageBreak,Iframe,TextColor,BGColor,About,Button,Checkbox,Textarea,ShowBlocks'
		});

		/*-- ckeditor ckEditorAto ------------------------------------------- */
		CKEDITOR.replace('ckEditorAto', {
			width: '100%',
			height: '360px',
			language: 'pt-br',
			uiColor: '#1686E4',
			contentsCss: 'body { font-family: "Times New Roman, Times, serif";, font-size: 14;}',
			font_defaultLabel: 'Times New Roman',
			fontSize_defaultLabel: '14',
			//startupFocus: true,
			toolbarGroups: [
				{ name: 'document', groups: [ 'mode', 'document', 'doctools' ] },
				{ name: 'clipboard', groups: [ 'clipboard', 'undo' ] },
				{ name: 'editing', groups: [ 'find', 'selection', 'spellchecker', 'editing' ] },
				{ name: 'forms', groups: [ 'forms' ] },
				{ name: 'basicstyles', groups: [ 'basicstyles', 'cleanup' ] },
				{ name: 'paragraph', groups: [ 'list', 'indent', 'blocks', 'align', 'bidi', 'paragraph' ] },
				{ name: 'links', groups: [ 'links' ] },
				{ name: 'insert', groups: [ 'insert' ] },
				{ name: 'styles', groups: [ 'styles' ] },
				{ name: 'colors', groups: [ 'colors' ] },
				{ name: 'tools', groups: [ 'tools' ] },
				{ name: 'others', groups: [ 'others' ] },
				{ name: 'about', groups: [ 'about' ] }
			],
			removeButtons: 'Source,Save,Templates,Cut,Find,SelectAll,Scayt,Form,NewPage,Copy,Replace,Radio,PasteText,PasteFromWord,TextField,Select,ImageButton,HiddenField,Subscript,Superscript,RemoveFormat,NumberedList,BulletedList,Outdent,Indent,Blockquote,CreateDiv,BidiLtr,Link,Anchor,Language,Flash,Unlink,Image,Smiley,SpecialChar,PageBreak,Iframe,TextColor,BGColor,About,Button,Checkbox,Textarea,ShowBlocks'
		});

		/*-- IdModeloDoc ---------------------------------------------------- */
		$("#IdModeloDoc").click(function (e) {
			e.preventDefault();

			var selItem = $("option:selected", this).val();

			if (isNaN(selItem) || (selItem == "")) {
				$.smallBox({
					title: "Valor inválido!",
					content: "Selecine um modelo da lista.",
					color: cor_smallBox_aviso,
					icon: "fa fa-exclamation bounce animated",
					timeout: 4000
				});
			} else {
				var dados = {
					IdModeloDoc: selItem
				}

				$.ajax(urlGetTextoWordDocModelo, {
					method: 'POST',
					dataType: 'json',
					data: dados,
					beforeSend: function () {
						ShowProgreessBar("Processando requisição...");
					}
				}).done(function (dataReturn) {
					if (dataReturn.resposta) {
						var dadosValidos = !(typeof dataReturn.TextoHtml === 'undefined' || dataReturn.TextoHtml == null);
						if (dadosValidos) {
							CKEDITOR.instances.ckEditorPreviewModelo.setData(dataReturn.TextoHtml);
						}
						PodeAvancar3 = true;
						//$("#editor2").val(dataReturn.TextoHtml);
					}
				}).fail(function (jq, textStatus, error) {
					alert("Erro: " +textStatus);
				}).always(function () {
					HideProgressBar();
				});
			}
		});

		/*-- gerar o texto do ato --------------------------------------------*/
		$("#btn-ato-gerar-texto").click(function (e) {
			e.preventDefault();

			var listIdsPessoas = [];

			arrayPessoas.forEach(item => {
				if (item.Selecionado) {
					listIdsPessoas.push(item.IdPessoa);
				}
			});

			var idAto = $("#Id").val();
			var idTipoAto = $("#IdTipoAto").val();
			var idLivro = $("#ddListLivro option:selected").val();
			var idModeloDoc = $("#IdModeloDoc").val();
			var idPrenotacao = $("#IdPrenotacao").val();
			var numMatricula = $("#NumMatricula").val();
			var dataRegPrenotacao = new Date($("#DataRegPrenotacao").val());
			var dataAto = new Date($("#DataAto").val());

			var dados = {
				IdAto: idAto,
				IdTipoAto: idTipoAto,
				IdLivro: idLivro,
				IdModeloDoc: idModeloDoc,
				IdPrenotacao: idPrenotacao,
				NumMatricula: numMatricula,
				DataRegPrenotacao: dataRegPrenotacao,
				DataAto: dataAto,
				ListIdsPessoas: listIdsPessoas
			};

			GetTextoAto(dados, urlGetTextoAto)
		});

		/*-- salvar o ato ----------------------------------------------------*/
		$("#btn-ato-salvar").click(function (e) {
            e.preventDefault();

            var frm_valid = form_para_validar.valid();

            if (frm_valid) {

                var form = $('#frm-wizard-novo-ato');
                var token = $('input[name="__RequestVerificationToken"]', form).val();

                var dadosAto = {
                    __RequestVerificationToken: token,
                    Id: $("#IdCtaAcessoSist").val(),
                    IdCtaAcessoSist: $("#IdCtaAcessoSist").val(),
                    IdLivro: $("#IdLivro").val(),
                    IdTipoAto: $("#IdTipoAto").val(),
                    IdModeloDoc: $("#IdModeloDoc").val(),
                    IdPrenotacao: $("#IdPrenotacao").val(),
                    NumMatricula: $("#NumMatricula").val(),
                    NumSequenciaAto: $("#NumSequenciaAto").val(),
                    DataAto: $("#DataAto").val(),
                    DescricaoAto: $("#DescricaoAto").val(),
                    DescricaoTipoAto: $("#DescricaoTipoAto").val(),
                    Texto: CKEDITOR.instances['ckEditorAto'].getData(), //$("#Texto").val(),
                    Observacao: $("#Observacao").val(),
                    StatusAto: $("#StatusAto").val(),
                    Ativo: $("#Ativo").val(),
                    IpLocal: $("#IpLocal").val(),
                    NumFicha: $("#NumFicha").val(),
                    TextoDistanciaTopo: $("#DistanciaTopo").val(),
                    GeradoFicha: $("#GeradoFicha").val(),
                }

                InsertOrUpdateAtoAjax(dadosAto, urlInsertOrUpdateAtoAjax);

            } else {
				$.smallBox({
					title: "Revise o preenchimento de dados!",
					content: "Preencha todos os campos que sejam obrigatórios.",
					color: cor_smallBox_aviso,
					icon: "fa fa-exclamation bounce animated",
					timeout: 4000
				});
            }

		});

		$('#frm-wizard-novo-ato').on('submit', function(event) {
			// Prevent the page from reloading
			event.preventDefault();
			//alert("deu submit");
			// Set the text-output span to the value of the first input
			//var $input = $(this).find('input');
			//var input = $input.val();
		});

		$("#btn-ato-show-data-ato-step-4").click(function (e) {
			e.preventDefault();

			var ele = $("#div-ato-dados-step-4");
			var img = document.getElementById("img-ato-show-data-ato-step-4");

			if (img != null) {
				$(img).toggleClass("fa-chevron-down fa-chevron-up", 1000);
			}

			if ($(ele).is(':visible')) {
				$(ele).slideUp("slow");
			} else {
				$(ele).slideDown("slow");
			}
		});

	});

	/**-------------------------------------------------------------------------
	 *
	 * @@param btnObj
	 * @@param idTipoAto
	------------------------------------------------------------------------- */
	function SelecionarTipoAto(btnObj, idTipoAto)
	{
		var btn = btnObj;
		var idTmp = idTipoAto;

		if (typeof btn != 'undefined' || btn != null) {
			var txtTipoAto = btn.innerText.trim();
			$("#IdTipoAto").val(idTipoAto);
			$("#DescricaoTipoAto").val(txtTipoAto);

			$(".btn-tree-tipo-ato").removeClass("btn-danger");
			$(btn).addClass("btn-danger");
			var sel = $("#IdModeloDoc");
			CKEDITOR.instances.ckEditorPreviewModelo.setData("");
			BuscarListaModelos(idTmp, sel, '@Url.Action("GetListaModelosDocx", "Atos")');
		}
	}

	</script>

}
